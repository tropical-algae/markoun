# markoun

A file-based Markdown editor

## How to start

### 1. Initialize the project (install dependencies, initialize tools, etc.):

```
make install
```

### 2. Adjust Configuration

Create a `.env` file based on `.env.example` and modify the necessary settings required for running the project. Additionally, to allow dynamic configuration after deployment, the project supports overriding environment variables via [config.yaml](config.yaml). For more detailed configuration options, please refer to [this](src/markoun/common/config.py).

### 3. Start the project:

```
poe run
```

The default code includes full features such as user authentication, agent conversations, streaming output, and memory management. For detailed functionality, please visit the API documentation in your browser after starting the project at `http://0.0.0.0:<port>/docs`

### 4. Code audit / static analysis:

```
poe check
```

### 5. Run tests:

```
poe test  # run test
poe check-test  # run tests & code checks
```

## Help

Run `poe help` for more details:

```
Usage:
  poe [global options] task [task arguments]

Global options:
  -h [TASK], --help [TASK]
                        Show this help page and exit, optionally supply a task.
  --version             Print the version and exit
  -v, --verbose         Increase output (repeatable)
  -q, --quiet           Decrease output (repeatable)
  -d, --dry-run         Print the task contents but don't actually run it
  -C PATH, --directory PATH
                        Specify where to find the pyproject.toml
  -e EXECUTOR, --executor EXECUTOR
                        Override the default task executor
  --ansi                Force enable ANSI output
  --no-ansi             Force disable ANSI output

Configured tasks:
  clean                 Remove all files generated by builds and tests.
  run                   Run the project.
  check                 Auto-fix and format the code using ruff.
  test                  Run tests quickly using the default Python environment.
  check-test            Run test and auto-fix the code.
  update-db             Auto update local code base on the database.
```

## Project Structure

Files related to application are in the `src` or `tests` directories.

Overall includes:

```

.
├── CHANGELOG.md
├── Dockerfile
├── Makefile
├── README.md
├── config.yaml
├── docker-compose.yml
├── mypy.ini
├── poe_tasks.toml
├── pyproject.toml
├── pytest.ini
├── ruff.toml
├── semantic.toml
├── src
│   └── markoun
│       ├── __init__.py
│       ├── __pycache__
│       │   ├── __init__.cpython-311.pyc
│       │   └── main.cpython-311.pyc
│       ├── app
│       │   ├── __init__.py
│       │   ├── __pycache__
│       │   │   └── __init__.cpython-311.pyc
│       │   ├── api
│       │   │   ├── __init__.py
│       │   │   ├── __pycache__
│       │   │   │   ├── __init__.cpython-311.pyc
│       │   │   │   ├── deps.cpython-311.pyc
│       │   │   │   └── routers.cpython-311.pyc
│       │   │   ├── deps.py
│       │   │   ├── endpoints
│       │   │   │   ├── __init__.py
│       │   │   │   ├── __pycache__
│       │   │   │   │   ├── __init__.cpython-311.pyc
│       │   │   │   │   ├── base.cpython-311.pyc
│       │   │   │   │   ├── chat.cpython-311.pyc
│       │   │   │   │   ├── eventgpt.cpython-311.pyc
│       │   │   │   │   ├── health.cpython-311.pyc
│       │   │   │   │   ├── session.cpython-311.pyc
│       │   │   │   │   ├── tool.cpython-311.pyc
│       │   │   │   │   └── user.cpython-311.pyc
│       │   │   │   ├── chat.py
│       │   │   │   ├── health.py
│       │   │   │   ├── session.py
│       │   │   │   ├── tool.py
│       │   │   │   └── user.py
│       │   │   └── routers.py
│       │   ├── services
│       │   │   ├── __init__.py
│       │   │   ├── __pycache__
│       │   │   │   ├── __init__.cpython-311.pyc
│       │   │   │   ├── inference_service.cpython-311.pyc
│       │   │   │   ├── model_inference_service.cpython-311.pyc
│       │   │   │   ├── model_interaction.cpython-311.pyc
│       │   │   │   └── session_service.cpython-311.pyc
│       │   │   ├── inference_service.py
│       │   │   └── session_service.py
│       │   └── utils
│       │       ├── __init__.py
│       │       ├── __pycache__
│       │       │   ├── __init__.cpython-311.pyc
│       │       │   ├── constant.cpython-311.pyc
│       │       │   ├── errors.cpython-311.pyc
│       │       │   ├── events.cpython-311.pyc
│       │       │   └── security.cpython-311.pyc
│       │       ├── constant.py
│       │       ├── errors.py
│       │       ├── events.py
│       │       └── security.py
│       ├── common
│       │   ├── __init__.py
│       │   ├── __pycache__
│       │   │   ├── __init__.cpython-311.pyc
│       │   │   ├── config.cpython-311.pyc
│       │   │   ├── decorator.cpython-311.pyc
│       │   │   ├── logging.cpython-311.pyc
│       │   │   └── util.cpython-311.pyc
│       │   ├── config.py
│       │   ├── decorator.py
│       │   ├── logging.py
│       │   └── util.py
│       ├── core
│       │   ├── __init__.py
│       │   ├── __pycache__
│       │   │   └── __init__.cpython-311.pyc
│       │   ├── agent
│       │   │   ├── __pycache__
│       │   │   │   ├── agent.cpython-311.pyc
│       │   │   │   ├── base.cpython-311.pyc
│       │   │   │   ├── factory.cpython-311.pyc
│       │   │   │   ├── memory.cpython-311.pyc
│       │   │   │   └── store.cpython-311.pyc
│       │   │   ├── agent.py
│       │   │   ├── base.py
│       │   │   ├── factory.py
│       │   │   ├── store.py
│       │   │   └── tools
│       │   │       ├── __init__.py
│       │   │       ├── __pycache__
│       │   │       │   ├── __init__.cpython-311.pyc
│       │   │       │   ├── localtime.cpython-311.pyc
│       │   │       │   └── weather.cpython-311.pyc
│       │   │       └── localtime.py
│       │   ├── db
│       │   │   ├── __init__.py
│       │   │   ├── __pycache__
│       │   │   │   ├── __init__.cpython-311.pyc
│       │   │   │   ├── models.cpython-311.pyc
│       │   │   │   └── session.cpython-311.pyc
│       │   │   ├── crud
│       │   │   │   ├── __init__.py
│       │   │   │   ├── __pycache__
│       │   │   │   │   ├── __init__.cpython-311.pyc
│       │   │   │   │   ├── crud_user.cpython-311.pyc
│       │   │   │   │   └── session_crud.cpython-311.pyc
│       │   │   │   ├── crud_user.py
│       │   │   │   └── session_crud.py
│       │   │   ├── models.py
│       │   │   └── session.py
│       │   └── model
│       │       ├── __init__.py
│       │       ├── __pycache__
│       │       │   ├── __init__.cpython-311.pyc
│       │       │   ├── base.cpython-311.pyc
│       │       │   ├── message.cpython-311.pyc
│       │       │   ├── tool.cpython-311.pyc
│       │       │   └── user.cpython-311.pyc
│       │       ├── base.py
│       │       ├── message.py
│       │       ├── tool.py
│       │       └── user.py
│       └── main.py
├── tests
│   ├── __init__.py
│   ├── __pycache__
│   │   ├── __init__.cpython-311.pyc
│   │   ├── conftest.cpython-311-pytest-7.4.4.pyc
│   │   └── conftest.cpython-311-pytest-8.4.2.pyc
│   ├── api
│   │   ├── __init__.py
│   │   ├── __pycache__
│   │   │   ├── __init__.cpython-311.pyc
│   │   │   ├── test_agent.cpython-311-pytest-8.4.2.pyc
│   │   │   ├── test_eventgpt.cpython-311-pytest-7.4.4.pyc
│   │   │   ├── test_user.cpython-311-pytest-7.4.4.pyc
│   │   │   └── test_user.cpython-311-pytest-8.4.2.pyc
│   │   ├── test_agent.py
│   │   └── test_user.py
│   └── conftest.py
└── uv.lock

```
